# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

**–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ9**  
**–ö—É—Ä—Å MLOps**  
**–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ ¬´Otus¬ª**

## –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã

–í –¥–∞–Ω–Ω–æ–º –¥–æ–º–∞—à–Ω–µ–º –∑–∞–¥–∞–Ω–∏–∏ –í—ã –ø–æ—Ç—Ä–µ–Ω–∏—Ä—É–µ—Ç–µ—Å—å –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å ML-–º–æ–¥–µ–ª–∏ –≤ REST-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –µ–µ –≤ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–µ. –í–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç —Å–æ–∑–¥–∞—Ç—å API –¥–ª—è –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏, —É–ø–∞–∫–æ–≤–∞—Ç—å –µ–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –µ–≥–æ –≤ –æ–±–ª–∞—á–Ω–æ–π —Å—Ä–µ–¥–µ.

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

> –ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –í–∞—à–∞ –º–æ–¥–µ–ª—å –ø—Ä–æ—à–ª–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø—Ä–∏–Ω—è–ª–æ —Ä–µ—à–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–∏—Ç—å –µ–µ –∫ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—é –≤ production —Å—Ä–µ–¥—É. –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–∏—Ç—å –≤–ª–∏—è–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –∏–Ω—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –±—ã–ª–æ —Ä–µ—à–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—é.
> 
> –ü–æ–æ–±—â–∞–≤—à–∏—Å—å —Å –∫–æ–ª–ª–µ–≥–∞–º–∏, –≤—ã –≤—ã—è—Å–Ω–∏–ª–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –Ω–∞ –≤–Ω–µ—à–Ω–∏–π API –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏ –≤ –æ–±—â—É—é —Å–∏—Å—Ç–µ–º—É. –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ª—É—á—à–µ –≤—Å–µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≤ –≤–µ—Ç–∫—É main.
> 
> –¢–∞–∫ –∂–µ –≤—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ, —á—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –∫—Ç–æ-—Ç–æ –∏–∑ –∫–æ–ª–ª–µ–≥ –º–æ–∂–µ—Ç –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥ –∏ —ç—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.
> 
> –ü–æ–æ–±—â–∞–≤—à–∏—Å—å —Å –∫–æ–ª–ª–µ–≥–∞–º–∏, –≤—ã —Ä–µ—à–∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—É—Å–∫ –ø—Ä–∏–µ–º–æ—á–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, —á—Ç–æ–±—ã –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω–Ω—ã–º, —á—Ç–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞—è –º–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

### CI/CD Pipeline

–ò–∑ —Å–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤—ã—à–µ –≤—ã—Ç–µ–∫–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –Ω–∞–ø–∏—Å–∞—Ç—å API –¥–ª—è –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ –≤–µ—Ç–∫—É main –∏ –ø—Ä–∏ –∏—Ö —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–±–æ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –≤–∞—à–µ–π –º–æ–¥–µ–ª—å—é –¥–ª—è –µ–µ –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –≤ –æ–±–ª–∞—á–Ω–æ–π —Å—Ä–µ–¥–µ.

## –ó–∞–¥–∞–Ω–∏—è

–†–µ—à–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ–∂–∏–¥–∞—Ç—å—Å—è –≤ –≤–∏–¥–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è/–≤–µ—Ç–∫–∏ –Ω–∞ GitHub, —Å terraform –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏, k8s –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞–º–∏ –∏ –¥—Ä—É–≥–∏–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º –∫–æ–¥–æ–º –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã.

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

1. **–ù–∞–ø–∏—Å–∞—Ç—å REST API** –¥–ª—è –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏ –¥–ª—è –µ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏. **–ó–∞–ø—É—Å–∫–∞–ª–æ—Å—å –ª–æ–∫–∞–ª—å–Ω–æ**

   **–°–∫—Ä–∏–Ω—à–æ—Ç—ã —Ä–∞–±–æ—Ç—ã API:**

   - üåê **API:** http://fraud-detection.darveter.com/
   ![–û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å API](./images/api.png)
   *–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ API —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–µ—Ä–≤–∏—Å–µ*

   - üìö **Docs UI:** http://fraud-detection.darveter.com/docs
   ![Swagger UI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](./images/docs1.png)
   *–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤*
   ![POST /predict —ç–Ω–¥–ø–æ–∏–Ω—Ç](./images/docs-post.png)
   *–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞*
   
   - üíì **Health check:** http://fraud-detection.darveter.com/health   
   ![Health check](./images/health.png)
   *–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ –∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏*
   
    - üìÅ **–ö–æ–¥ API:** [`src/api_improved.py`](./src/api_improved.py)


2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD –ø–∞–π–ø–ª–∞–π–Ω –≤ GitHub Actions** —Å —Ç–µ—Å—Ç–∞–º–∏ –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏. –í —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ CI/CD –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏ docker –æ–±—Ä–∞–∑–∞ –∏ –µ–≥–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –≤ registry. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

   **CI/CD Pipeline –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
   
   - üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** Pytest –Ω–∞ Python 3.11, 3.12, 3.13
   - üîç **–õ–∏–Ω—Ç–∏–Ω–≥:** Black, isort, flake8, mypy
   - üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** Bandit, Safety, Trivy, CodeQL
   - üê≥ **Docker —Å–±–æ—Ä–∫–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞
   - üì¶ **Registry:** –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ GitHub Container Registry (GHCR)
   - üìä **–ü–æ–∫—Ä—ã—Ç–∏–µ:** Codecov –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
   
   **–°—Å—ã–ª–∫–∏:**
   - üöÄ **–ü–æ—Å–ª–µ–¥–Ω–∏–π —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫:** [GitHub Actions Run #17298084759](https://github.com/DarVeter24/mlopstraining/actions/runs/17298084759)
   - üì¶ **Docker –æ–±—Ä–∞–∑:** [ghcr.io/darveter24/mlopstraining/tasks9-fraud-detection-api](https://github.com/DarVeter24/mlopstraining/pkgs/container/mlopstraining%2Ftasks9-fraud-detection-api)
   - üîß **Workflow —Ñ–∞–π–ª:** [`.github/workflows/tasks9-ci.yml`](./.github/workflows/tasks9-ci.yml)
   
   **–°—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞:**
   - ‚úÖ **Status:** Success
   - ‚è±Ô∏è **Duration:** 5m 9s
   - üè∑Ô∏è **Tag:** `tasks9-main-f52fd34`
   - üì• **Downloads:** 8 total

3. **–°–æ–∑–¥–∞—Ç—å k8s –º–∞–Ω–∏—Ñ–µ—Å—Ç** –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞) –Ω–∞ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–µ. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

   **Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –∏ ArgoCD GitOps:**
   
   - üìÅ **–ú–∞–Ω–∏—Ñ–µ—Å—Ç—ã:** [`argocd/manifests/`](./argocd/manifests/)
     - `namespace.yaml` - Namespace –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
     - `configmap.yaml` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
     - `deployment.yaml` - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
     - `service.yaml` - –°–µ—Ä–≤–∏—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–¥–∞–º
     - `ingress.yaml` - –í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ Ingress
     - `hpa.yaml` - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
     - `kustomization.yaml` - Kustomize –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   
   - üîÑ **ArgoCD GitOps:**
     - `project.yaml` - ArgoCD –ø—Ä–æ–µ–∫—Ç —Å RBAC
     - `application.yaml` - ArgoCD –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è
     - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º
     - –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∫–ª–∞—Å—Ç–µ—Ä–∞
   
   **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
   - üè∑Ô∏è **Namespace:** `tasks9-mlops`
   - üê≥ **Image:** `ghcr.io/darveter24/mlopstraining/tasks9-fraud-detection-api:latest`
   - üîß **ConfigMap:** –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è fallback —Ä–µ–∂–∏–º–∞
   - üìä **HPA:** –ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ 2-10 —Ä–µ–ø–ª–∏–∫ –ø–æ CPU/–ø–∞–º—è—Ç–∏
   - üåê **Ingress:** –í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `fraud-detection.darveter.com`
   - üìÅ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [`argocd/README.md`](./argocd/README.md)

4. **–°–æ–∑–¥–∞—Ç—å –≤ YC k8s –∫–ª–∞—Å—Ç–µ—Ä** –∏–∑ 3-—Ö —É–∑–ª–æ–≤. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä)

   **–õ–æ–∫–∞–ª—å–Ω—ã–π Kubernetes –∫–ª–∞—Å—Ç–µ—Ä –Ω–∞ Proxmox:**
   
   - üèóÔ∏è **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** Proxmox –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è
   - üéõÔ∏è **Control Plane:** 3 master –Ω–æ–¥—ã (High Availability)
     - `master1.darveter.com` - Ready, v1.31.5
     - `master2.darveter.com` - Ready, v1.31.5  
     - `master3.darveter.com` - Ready, v1.31.5
   - üë∑ **Worker Nodes:** 2 worker –Ω–æ–¥—ã
     - `worker1.darveter.com` - Ready, v1.31.5
     - `worker2.darveter.com` - Ready, v1.31.5
   - üìä **–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ:** 5 —É–∑–ª–æ–≤ (–ø—Ä–µ–≤—ã—à–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ 3-—Ö —É–∑–ª–æ–≤)
   - üîß **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** k9s terminal UI –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
   
   ![Kubernetes –∫–ª–∞—Å—Ç–µ—Ä](./images/k8s.png)
   *–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–ª–∞—Å—Ç–µ—Ä–∞ —á–µ—Ä–µ–∑ k9s - –≤—Å–µ 5 —É–∑–ª–æ–≤ –≤ —Å—Ç–∞—Ç—É—Å–µ Ready*

5. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–∞—à —Å–µ—Ä–≤–∏—Å –≤ k8s** –∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π API. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

   **–°–µ—Ä–≤–∏—Å —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω:**
   
   - üöÄ **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ k8s:** –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ ArgoCD
   - üåê **–ü—É–±–ª–∏—á–Ω—ã–π API:** –î–æ—Å—Ç—É–ø–µ–Ω –ø–æ http://fraud-detection.darveter.com/
   - üíì **Health Check:** API –æ—Ç–≤–µ—á–∞–µ—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –º–æ–¥–µ–ª–∏
   - üìö **Swagger UI:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ /docs
   - üîß **Fallback —Ä–µ–∂–∏–º:** –†–∞–±–æ—Ç–∞–µ—Ç mock –º–æ–¥–µ–ª—å –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ MLflow
   
   **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API:**
   
   ```bash
   # Health check
   curl http://fraud-detection.darveter.com/health
   
   # Swagger UI
   http://fraud-detection.darveter.com/docs
   
   # –ü—Ä–∏–º–µ—Ä –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
   curl -X POST http://fraud-detection.darveter.com/predict \
     -H "Content-Type: application/json" \
     -d '{"customer_id": 123, "terminal_id": 456, "tx_amount": 100.50, "tx_time_seconds": 3600, "tx_time_days": 1, "tx_fraud_scenario": 0}'
   ```
   
   ![–ü—Ä–∏–º–µ—Ä POST /predict –∑–∞–ø—Ä–æ—Å–∞](./images/predict.png)
   *–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ /predict —Å –ø—Ä–∏–º–µ—Ä–æ–º –∑–∞–ø—Ä–æ—Å–∞*
   
   **–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
   - ‚úÖ API –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã
   - ‚úÖ Health check –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "healthy"
   - ‚úÖ –ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º
   - ‚úÖ Swagger UI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - ‚úÖ Fallback –º–µ—Ö–∞–Ω–∏–∑–º –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

6. **–î–æ–±–∞–≤–∏—Ç—å –≤ CI/CD –ø–∞–π–ø–ª–∞–π–Ω** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –≤ —Å–µ—Ä–≤–∏—Å–∞ –≤ k8s –∫–ª–∞—Å—Ç–µ—Ä. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** (—á–µ—Ä–µ–∑ ArgoCD)

   **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ ArgoCD GitOps:**
   
   - üîÑ **GitOps –ø–æ–¥—Ö–æ–¥:** –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ Git commits
   - üöÄ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** ArgoCD –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
   - üì¶ **CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏ Docker –æ–±—Ä–∞–∑–∞
   - üéØ **–î–µ–ø–ª–æ–π –≤ k8s:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ –∫–ª–∞—Å—Ç–µ—Ä
   - üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** RBAC —á–µ—Ä–µ–∑ ArgoCD –ø—Ä–æ–µ–∫—Ç
   
   **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   
   1. **Push –≤ main –≤–µ—Ç–∫—É** ‚Üí –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è GitHub Actions
   2. **CI/CD pipeline** ‚Üí –¢–µ—Å—Ç—ã, –ª–∏–Ω—Ç–∏–Ω–≥, —Å–±–æ—Ä–∫–∞ Docker
   3. **–£—Å–ø–µ—à–Ω–∞—è —Å–±–æ—Ä–∫–∞** ‚Üí –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è ArgoCD Application
   4. **ArgoCD —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –≤ k8s
   5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** ‚Üí –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —á–µ—Ä–µ–∑ ArgoCD UI
   
   **–§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
   - [`argocd/application.yaml`](./argocd/application.yaml) - ArgoCD –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - [`argocd/project.yaml`](./argocd/project.yaml) - RBAC –ø—Ä–æ–µ–∫—Ç
   - [`argocd/manifests/`](./argocd/manifests/) - k8s –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã
   
   ![ArgoCD UI - –û–±–∑–æ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](./images/argocd.png)
   *ArgoCD UI, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–π —Å—Ç–∞—Ç—É—Å Healthy –∏ Synced –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è*
   
   **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π CI/CD pipeline —Å GitOps –¥–µ–ø–ª–æ–µ–º!

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ –∑–∞ —Ä–∞–±–æ—Ç—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å **–≤—Å–µ** –∏–∑ –≤—ã—à–µ–ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π.

---

**–ñ–µ–ª–∞–µ–º —É—Å–ø–µ—Ö–æ–≤!** 