# MLOps платформа для автоматического масштабирования и мониторинга ML-моделей в production

## Описание проекта

Проект представляет собой расширение существующей MLOps инфраструктуры для добавления автоматического масштабирования, мониторинга и системы алертинга к уже развернутой ML-модели. Система использует готовую Kubernetes инфраструктуру, настроенный Airflow и обученную модель для обеспечения надежной работы ML-сервисов в условиях переменной нагрузки и защиты от DDoS атак.

## Основные функции

### 1. Автоматическое масштабирование модели
- Развертывание от 4 до 6 экземпляров модели в зависимости от нагрузки
- Автоматическое масштабирование при пиковых нагрузках
- Защита от неоправданного расходования ресурсов при DDoS атаках

### 2. Система мониторинга и алертинга
- Мониторинг параметров Kubernetes кластера через Prometheus
- Визуализация метрик в Grafana с настраиваемыми дашбордами
- Автоматические уведомления при превышении нагрузки свыше 80%

### 3. Интеграция с существующим MLOps пайплайном
- Использование готовых Airflow DAG'ов для переобучения модели
- Подключение к существующему MLFlow для отслеживания метрик
- Расширение текущих процессов мониторингом производительности

### 4. Тестирование нагрузки
- Имитация атак через Apache Kafka
- Нагрузочное тестирование с наращиванием интенсивности
- Проверка срабатывания системы алертинга

## Техническая реализация

### Архитектура
- **Существующий Kubernetes кластер**: Используется готовая оркестрация контейнеров
- **Prometheus**: Новое развертывание для сбора и хранения метрик мониторинга
- **Grafana**: Новое развертывание для визуализации метрик и создания дашбордов
- **Существующий Apache Airflow**: Расширение готовых DAG'ов мониторингом
- **Существующий MLFlow**: Подключение к готовому трекингу экспериментов
- **Apache Kafka**: Новое развертывание для стриминга данных и нагрузочного тестирования

### Компоненты системы
- **Существующий ML Model Service**: Расширение готового сервиса автоматическим масштабированием
- **HPA (Horizontal Pod Autoscaler)**: Новые политики масштабирования от 4 до 6 реплик
- **Monitoring Stack**: Новый стек Prometheus + Grafana для наблюдаемости
- **Alerting System**: Новая система уведомлений при превышении лимитов
- **Расширенные MLOps Pipeline**: Дополнение существующих Airflow DAG'ов
- **Load Testing Service**: Новая Kafka-based система для имитации нагрузки

### Система алертинга
- **Триггеры**: Превышение 80% нагрузки на любом экземпляре
- **Временной порог**: Срабатывание после 5 минут превышения лимита
- **Уведомления**: Автоматическая отправка уведомлений системному администратору
- **Эскалация**: Многоуровневая система уведомлений для критических ситуаций

## Преимущества решения

### Масштабируемость
- Автоматическое масштабирование в зависимости от нагрузки
- Оптимальное использование ресурсов кластера
- Защита от избыточного масштабирования при атаках

### Наблюдаемость
- Полная видимость состояния системы через метрики
- Исторические данные для анализа трендов
- Проактивное выявление проблем до их критического воздействия

### Автоматизация
- Интеграция с существующими процессами переобучения модели
- Расширение готовых CI/CD пайплайнов мониторингом
- Автоматизация масштабирования и алертинга без участия человека
