# Tasks10 Monitoring Setup

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è Tasks10 ML API —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ –ø–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

### ML Model Metrics ‚úÖ
| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ—Ä–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|-------------------|---------|
| `ml_model_predictions_total` | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π (counter) | - | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `ml_model_prediction_duration_seconds` | –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π (histogram) | > 1s (warning) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `ml_model_fraud_probability` | –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞ (histogram) | > 20% fraud rate (info) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `ml_model_confidence_score` | –£—Ä–æ–≤–µ–Ω—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ (histogram) | - | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `ml_model_active_requests` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (gauge) | > 50 (info) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

### HTTP Performance Metrics ‚úÖ
| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ—Ä–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|-------------------|---------|
| `http_requests_total` | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ (counter) | - | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `http_request_duration_seconds` | –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ (histogram) | 95p > 2s (warning) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `http_requests_in_progress` | –ê–∫—Ç–∏–≤–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã (gauge) | > 20 (warning) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

### System Resources ‚úÖ
| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ—Ä–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|-------------------|---------|
| `ml_model_cpu_usage_percent` | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö (gauge) | > 80% (warning) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `ml_model_memory_usage_bytes` | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤ –±–∞–π—Ç–∞—Ö (gauge) | > 70% (warning) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `ml_model_active_requests` | –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –º–æ–¥–µ–ª–∏ (gauge) | > 50 (info) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

### Kubernetes HPA Metrics ‚úÖ
| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ—Ä–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|-------------------|---------|
| `kube_deployment_status_replicas` | –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫ | - | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `kube_horizontalpodautoscaler_spec_min_replicas` | –ú–∏–Ω–∏–º—É–º —Ä–µ–ø–ª–∏–∫ HPA | - | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `kube_horizontalpodautoscaler_spec_max_replicas` | –ú–∞–∫—Å–∏–º—É–º —Ä–µ–ø–ª–∏–∫ HPA | - | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

## üö® –ê–ª–µ—Ä—Ç—ã –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### Critical Alerts (—Ç—Ä–µ–±—É—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è)
- **üö® AdminNotification_MaxScaleHighCPU**: **6 —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ + CPU > 80% –∑–∞ 5 –º–∏–Ω—É—Ç** ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- **PodCrashLooping**: Pod –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- **ServiceDown**: –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω  
- **HighMemoryUsage**: Memory > 85% –∑–∞ 5 –º–∏–Ω—É—Ç
- **NoMLPredictions**: –ù–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –º–æ–¥–µ–ª–∏ 10 –º–∏–Ω—É—Ç

### Warning Alerts (—Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è)
- **HighCPUUsage**: CPU > 80% –∑–∞ 5 –º–∏–Ω—É—Ç ‚Üí HPA scaling
- **SlowResponseTime**: Response time > 2s (95p)
- **HighMemoryUsage**: Memory > 70% –∑–∞ 10 –º–∏–Ω—É—Ç
- **HighActiveRequests**: –ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ > 50

### Info Alerts (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ)
- **ModelScaledToMax**: –î–æ—Å—Ç–∏–≥–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º —Ä–µ–ø–ª–∏–∫ (6)
- **HPAScalingEvent**: –°–æ–±—ã—Ç–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è HPA
- **HighFraudDetectionRate**: –í—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –º–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- **ModelConfidenceLow**: –ù–∏–∑–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ –≤ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è—Ö

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞—à–±–æ—Ä–¥–∞ –∏ –º–µ—Ç–æ–¥—ã –∞–Ω–∞–ª–∏–∑–∞

### üéØ –ë–ª–æ–∫ "ML Model Performance"

**–ü–∞–Ω–µ–ª–∏:**
1. **Predictions per Minute** (Time Series)
   - **–ú–µ—Ç—Ä–∏–∫–∞**: `rate(ml_model_predictions_total[5m])`
   - **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –≤ –º–∏–Ω—É—Ç—É –ø–æ —Ç–∏–ø–∞–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
   - **–ê–Ω–∞–ª–∏–∑**: 
     - –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Ç—Ä–µ–Ω–¥—ã –≤ –æ–±—ä–µ–º–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
     - –°—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ legitimate vs fraud
     - –†–µ–∑–∫–∏–µ –ø–∞–¥–µ–Ω–∏—è –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å –º–æ–¥–µ–ª—å—é
   - **–ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**: 10-100 –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π/–º–∏–Ω

2. **Average Prediction Time** (Gauge)
   - **–ú–µ—Ç—Ä–∏–∫–∞**: `rate(ml_model_prediction_duration_seconds_sum[5m]) / rate(ml_model_prediction_duration_seconds_count[5m]) * 1000`
   - **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –≤ –º—Å
   - **–ê–Ω–∞–ª–∏–∑**:
     - –ó–µ–ª–µ–Ω—ã–π < 1000ms - –æ—Ç–ª–∏—á–Ω–æ
     - –ñ–µ–ª—Ç—ã–π 1000-2000ms - –≤–Ω–∏–º–∞–Ω–∏–µ
     - –ö—Ä–∞—Å–Ω—ã–π > 2000ms - –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
   - **–î–µ–π—Å—Ç–≤–∏—è**: –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ 1500ms –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –º–æ–¥–µ–ª—å

### üåê –ë–ª–æ–∫ "HTTP Performance"

**–ü–∞–Ω–µ–ª–∏:**
3. **HTTP Request Rate** (Time Series)
   - **–ú–µ—Ç—Ä–∏–∫–∞**: `rate(http_requests_total[5m])`
   - **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: HTTP –∑–∞–ø—Ä–æ—Å—ã –≤ —Å–µ–∫—É–Ω–¥—É –ø–æ –º–µ—Ç–æ–¥–∞–º –∏ —Å—Ç–∞—Ç—É—Å-–∫–æ–¥–∞–º
   - **–ê–Ω–∞–ª–∏–∑**:
     - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–±—â–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ API
     - –í—ã—è–≤–ª–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –ø–∏–∫–æ–≤ —Ç—Ä–∞—Ñ–∏–∫–∞
     - –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º
   - **–ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**: 5-50 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫

4. **HTTP Error Rate** (Gauge)
   - **–ú–µ—Ç—Ä–∏–∫–∞**: `(rate(http_requests_total{status_code=~"4..|5.."}[5m]) / rate(http_requests_total[5m])) * 100`
   - **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –ü—Ä–æ—Ü–µ–Ω—Ç HTTP –æ—à–∏–±–æ–∫ –æ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
   - **–ê–Ω–∞–ª–∏–∑**:
     - –ó–µ–ª–µ–Ω—ã–π < 2% - –Ω–æ—Ä–º–∞–ª—å–Ω–æ
     - –ñ–µ–ª—Ç—ã–π 2-5% - —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è
     - –ö—Ä–∞—Å–Ω—ã–π > 5% - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Ç—É–∞—Ü–∏—è
   - **–î–µ–π—Å—Ç–≤–∏—è**: –ü—Ä–∏ > 3% –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### üöÄ –ë–ª–æ–∫ "System Resources & Scaling"

**–ü–∞–Ω–µ–ª–∏:**
5. **CPU Usage** (Time Series)
   - **–ú–µ—Ç—Ä–∏–∫–∏**: 
     - `sum(rate(container_cpu_usage_seconds_total{namespace="mlops-tasks10",container="tasks10-ml-service-api"}[5m])) * 100` - —Å—É–º–º–∞—Ä–Ω–æ–µ CPU –≤—Å–µ—Ö –ø–æ–¥–æ–≤
     - `avg(rate(container_cpu_usage_seconds_total{namespace="mlops-tasks10",container="tasks10-ml-service-api"}[5m])) * 100` - —Å—Ä–µ–¥–Ω–µ–µ CPU –Ω–∞ –ø–æ–¥
   - **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –ø–æ–¥–∞–º–∏ ML API –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö (–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ –≤—Å–µ–º –ø–æ–¥–∞–º)
   - **–ê–Ω–∞–ª–∏–∑**:
     - **Total CPU Usage**: —Å—É–º–º–∞—Ä–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–¥–æ–≤ (—Ä–∞—Å—Ç–µ—Ç —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ–¥–æ–≤)
     - **Average CPU per Pod**: —Å—Ä–µ–¥–Ω–µ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ–¥ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–º)
     - –ó–µ–ª–µ–Ω—ã–π < 70% - –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
     - –ñ–µ–ª—Ç—ã–π 70-80% - –ø–æ–≤—ã—à–µ–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞  
     - –ö—Ä–∞—Å–Ω—ã–π > 80% - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞, —Ç—Ä–∏–≥–≥–µ—Ä HPA
   - **–î–µ–π—Å—Ç–≤–∏—è**: –ü—Ä–∏ —Å—Ä–µ–¥–Ω–µ–º CPU > 80% –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ HPA

6. **Memory Usage** (Time Series)
   - **–ú–µ—Ç—Ä–∏–∫–∏**:
     - `sum(container_memory_usage_bytes{namespace="mlops-tasks10",container="tasks10-ml-service-api"})` - —Å—É–º–º–∞—Ä–Ω–∞—è –ø–∞–º—è—Ç—å –≤—Å–µ—Ö –ø–æ–¥–æ–≤
     - `avg(container_memory_usage_bytes{namespace="mlops-tasks10",container="tasks10-ml-service-api"})` - —Å—Ä–µ–¥–Ω—è—è –ø–∞–º—è—Ç—å –Ω–∞ –ø–æ–¥
   - **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø–æ–¥–∞–º–∏ ML API (–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ –≤—Å–µ–º –ø–æ–¥–∞–º)
   - **–ê–Ω–∞–ª–∏–∑**:
     - **Total Memory Usage**: —Å—É–º–º–∞—Ä–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–¥–æ–≤
     - **Average Memory per Pod**: —Å—Ä–µ–¥–Ω–µ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ–¥ (~130-140MB –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
     - –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Ç—Ä–µ–Ω–¥–∞–º–∏ —Ä–æ—Å—Ç–∞ –ø–∞–º—è—Ç–∏ –Ω–∞ –ø–æ–¥ (–ø—Ä–∏–∑–Ω–∞–∫ memory leak)
   - **–î–µ–π—Å—Ç–≤–∏—è**: –ü—Ä–∏ —Ä–æ—Å—Ç–µ –ø–∞–º—è—Ç–∏ –Ω–∞ –ø–æ–¥ > 200MB –ø—Ä–æ–≤–µ—Ä–∏—Ç—å memory leaks

7. **Pod Scaling (HPA)** (Time Series)
   - **–ú–µ—Ç—Ä–∏–∫–∏**:
     - `kube_deployment_status_replicas` - —Ç–µ–∫—É—â–∏–µ —Ä–µ–ø–ª–∏–∫–∏
     - `kube_horizontalpodautoscaler_spec_min_replicas` - –º–∏–Ω–∏–º—É–º
     - `kube_horizontalpodautoscaler_spec_max_replicas` - –º–∞–∫—Å–∏–º—É–º
   - **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –î–∏–Ω–∞–º–∏–∫—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
   - **–ê–Ω–∞–ª–∏–∑**:
     - –ß–∞—Å—Ç—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è = –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
     - –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –º–∞–∫—Å–∏–º—É–º–∞ = –Ω—É–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç—ã
     - –î–æ–ª–≥–æ–µ –≤—Ä–µ–º—è –Ω–∞ –º–∞–∫—Å–∏–º—É–º–µ = –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è –≤—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞

### üìä –ë–ª–æ–∫ "Additional ML Metrics"

**–ü–∞–Ω–µ–ª–∏:**
8. **ML Model Active Requests** (Time Series)
   - **–ú–µ—Ç—Ä–∏–∫–∞**: `ml_model_active_requests`
   - **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ
   - **–ê–Ω–∞–ª–∏–∑**:
     - –ó–µ–ª–µ–Ω—ã–π < 30 - –Ω–æ—Ä–º–∞–ª—å–Ω–æ
     - –ñ–µ–ª—Ç—ã–π 30-50 - –≤—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
     - –ö—Ä–∞—Å–Ω—ã–π > 50 - –≤–æ–∑–º–æ–∂–Ω–∞ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞
   - **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è**: –° CPU usage –∏ response time

9. **HTTP Requests in Progress** (Gauge)
   - **–ú–µ—Ç—Ä–∏–∫–∞**: `http_requests_in_progress`
   - **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: HTTP –∑–∞–ø—Ä–æ—Å—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
   - **–ê–Ω–∞–ª–∏–∑**:
     - –ó–µ–ª–µ–Ω—ã–π < 10 - –Ω–æ—Ä–º–∞–ª—å–Ω–æ
     - –ñ–µ–ª—Ç—ã–π 10-20 - –≤–Ω–∏–º–∞–Ω–∏–µ
     - –ö—Ä–∞—Å–Ω—ã–π > 20 - –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## üîç –ú–µ—Ç–æ–¥—ã –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

### 1. **–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏**
```
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Predictions per Minute - —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –ª–∏ –æ–±—ä–µ–º?
2. –°–æ–ø–æ—Å—Ç–∞–≤—å—Ç–µ —Å Average Prediction Time - –Ω–µ —Ä–∞—Å—Ç–µ—Ç –ª–∏ –≤—Ä–µ–º—è?
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ Active Requests - –Ω–µ—Ç –ª–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è?
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CPU Usage - –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏ 80%?
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Memory Usage - –Ω–µ—Ç –ª–∏ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏?
```

### 2. **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
```
–°–∏–º–ø—Ç–æ–º—ã –≤—ã—Å–æ–∫–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞:
‚Üí Average Prediction Time > 1500ms
‚Üí HTTP Request Rate –ø–∞–¥–∞–µ—Ç
‚Üí HTTP Error Rate —Ä–∞—Å—Ç–µ—Ç
‚Üí CPU Usage > 80%
‚Üí Active Requests > 30

–î–µ–π—Å—Ç–≤–∏—è:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å HPA - –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –ª–∏?
2. –£–≤–µ–ª–∏—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã (CPU/Memory limits)
3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å ML
```

### 3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è**
```
–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:
‚Üí CPU Usage > 80% ‚Üí Replicas —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è
‚Üí –ù–∞–≥—Ä—É–∑–∫–∞ –ø–∞–¥–∞–µ—Ç ‚Üí CPU Usage < 50% ‚Üí Replicas —É–º–µ–Ω—å—à–∞—é—Ç—Å—è
‚Üí Memory Usage —Å—Ç–∞–±–∏–ª—å–Ω–∞ –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏
‚Üí Response time –æ—Å—Ç–∞–µ—Ç—Å—è < 1000ms

–ü—Ä–æ–±–ª–µ–º—ã:
‚Üí CPU Usage > 80%, –Ω–æ Replicas –Ω–µ —Ä–∞—Å—Ç—É—Ç = –ø—Ä–æ–±–ª–µ–º–∞ HPA
‚Üí Memory Usage —Ä–∞—Å—Ç–µ—Ç –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏ = memory leak
‚Üí Replicas –Ω–∞ –º–∞–∫—Å–∏–º—É–º–µ –¥–æ–ª–≥–æ = —É–≤–µ–ª–∏—á–∏—Ç—å max_replicas
‚Üí –ß–∞—Å—Ç—ã–µ –∫–æ–ª–µ–±–∞–Ω–∏—è = –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å stabilization
```

### 4. **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑**
```
–ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏:
‚Üí ‚Üë HTTP Request Rate ‚Üí ‚Üë Active Requests ‚Üí ‚Üë CPU Usage
‚Üí ‚Üë CPU Usage ‚Üí ‚Üë Replicas (—á–µ—Ä–µ–∑ HPA)
‚Üí ‚Üë Replicas ‚Üí ‚Üì CPU Usage per pod
‚Üí ‚Üë Active Requests ‚Üí ‚Üë Memory Usage (–≤—Ä–µ–º–µ–Ω–Ω–æ)

–ê–Ω–æ–º–∞–ª–∏–∏:
‚Üí ‚Üë Request Rate, –Ω–æ ‚Üì Predictions = –ø—Ä–æ–±–ª–µ–º–∞ —Å –º–æ–¥–µ–ª—å—é
‚Üí ‚Üë CPU Usage, –Ω–æ Replicas –Ω–µ —Ä–∞—Å—Ç—É—Ç = –ø—Ä–æ–±–ª–µ–º–∞ —Å HPA
‚Üí ‚Üë Memory Usage –±–µ–∑ —Ä–æ—Å—Ç–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ = memory leak
‚Üí ‚Üë Error Rate –±–µ–∑ —Ä–æ—Å—Ç–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ = –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚Üí CPU Usage –Ω–æ—Ä–º–∞, –Ω–æ Memory Usage —Ä–∞—Å—Ç–µ—Ç = inefficient code
```

## üö® –ê–ª–µ—Ä—Ç–∏–Ω–≥ –∏ –ø–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è)
- **Average Prediction Time > 3000ms** - –º–æ–¥–µ–ª—å –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–∞
- **HTTP Error Rate > 10%** - —Å–µ—Ä—å–µ–∑–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å API  
- **Active Requests > 100** - —Å–∏—Å—Ç–µ–º–∞ –Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- **All replicas down** - –ø–æ–ª–Ω—ã–π –æ—Ç–∫–∞–∑ —Å–µ—Ä–≤–∏—Å–∞

### Warning –∞–ª–µ—Ä—Ç—ã (—Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è)
- **Average Prediction Time > 1500ms** - –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞–¥–∞–µ—Ç
- **HTTP Error Rate > 3%** - –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã
- **CPU Usage > 80%** - –Ω—É–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Active Requests > 50** - –≤—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞

## üìã –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞—à–±–æ—Ä–¥–∞

### üî• –°—Ü–µ–Ω–∞—Ä–∏–π 1: "–í—ã—Å–æ–∫–æ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –º–æ–¥–µ–ª–∏"
**–°–∏–º–ø—Ç–æ–º—ã –≤ –¥–∞—à–±–æ—Ä–¥–µ:**
- Average Prediction Time > 2000ms (–∫—Ä–∞—Å–Ω–∞—è –∑–æ–Ω–∞)
- ML Model Active Requests —Ä–∞—Å—Ç–µ—Ç
- CPU Usage –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç—Å—è –∫ 80%
- Memory Usage –º–æ–∂–µ—Ç —Ä–∞—Å—Ç–∏

**–ü–æ—à–∞–≥–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑:**
1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫—É**: HTTP Request Rate - –µ—Å—Ç—å –ª–∏ –ø–∏–∫ —Ç—Ä–∞—Ñ–∏–∫–∞?
2. **–û—Ü–µ–Ω–∏—Ç–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: Pod Scaling (HPA) - —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è –ª–∏ —Ä–µ–ø–ª–∏–∫–∏?
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ CPU**: CPU Usage - –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏ 80%?
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Memory**: Memory Usage - –Ω–µ—Ç –ª–∏ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏?
5. **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è**: Active Requests vs CPU/Memory Usage - –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç?

**–î–µ–π—Å—Ç–≤–∏—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å HPA
kubectl get hpa -n mlops-tasks10

# –£–≤–µ–ª–∏—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
kubectl patch deployment tasks10-ml-service-api -n mlops-tasks10 -p '{"spec":{"template":{"spec":{"containers":[{"name":"ml-api","resources":{"limits":{"cpu":"2000m","memory":"2Gi"}}}]}}}}'

# –£–≤–µ–ª–∏—á–∏—Ç—å max replicas –≤ HPA
kubectl patch hpa tasks10-ml-service-hpa -n mlops-tasks10 -p '{"spec":{"maxReplicas":10}}'
```

### ‚ö†Ô∏è –°—Ü–µ–Ω–∞—Ä–∏–π 2: "–í—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫"
**–°–∏–º–ø—Ç–æ–º—ã –≤ –¥–∞—à–±–æ—Ä–¥–µ:**
- HTTP Error Rate > 5% (–∫—Ä–∞—Å–Ω–∞—è –∑–æ–Ω–∞)
- HTTP Request Rate –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º
- Predictions per Minute –ø–∞–¥–∞–µ—Ç

**–ü–æ—à–∞–≥–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑:**
1. **–¢–∏–ø –æ—à–∏–±–æ–∫**: –í HTTP Request Rate –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ status_code - 4xx –∏–ª–∏ 5xx?
2. **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å –Ω–∞–≥—Ä—É–∑–∫–æ–π**: –û—à–∏–±–∫–∏ —Ä–∞—Å—Ç—É—Ç —Å –Ω–∞–≥—Ä—É–∑–∫–æ–π –∏–ª–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ?
3. **–ú–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç**: Predictions per Minute - –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ª–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è?
4. **–†–µ—Å—É—Ä—Å—ã**: Resource Usage - –Ω–µ—Ç –ª–∏ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏?

**–î–µ–π—Å—Ç–≤–∏—è –ø–æ —Ç–∏–ø—É –æ—à–∏–±–æ–∫:**
```bash
# 4xx –æ—à–∏–±–∫–∏ - –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏
kubectl logs -n mlops-tasks10 -l app=tasks10-ml-service-api --tail=100 | grep "400\|404\|422"

# 5xx –æ—à–∏–±–∫–∏ - –ø—Ä–æ–±–ª–µ–º—ã —Å–µ—Ä–≤–µ—Ä–∞
kubectl logs -n mlops-tasks10 -l app=tasks10-ml-service-api --tail=100 | grep "500\|502\|503"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–¥–æ–≤
kubectl get pods -n mlops-tasks10 -l app=tasks10-ml-service-api
```

### üìà –°—Ü–µ–Ω–∞—Ä–∏–π 3: "–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ"
**–°–∏–º–ø—Ç–æ–º—ã –≤ –¥–∞—à–±–æ—Ä–¥–µ:**
- CPU Usage > 80% –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
- Pod Scaling (HPA) –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç replicas
- Average Prediction Time —Ä–∞—Å—Ç–µ—Ç

**–ü–æ—à–∞–≥–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑:**
1. **–°—Ç–∞—Ç—É—Å HPA**: Replicas –¥–æ—Å—Ç–∏–≥–ª–∏ –º–∞–∫—Å–∏–º—É–º–∞?
2. **–ú–µ—Ç—Ä–∏–∫–∏ HPA**: –ö–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HPA –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π?
3. **–†–µ—Å—É—Ä—Å—ã —É–∑–ª–æ–≤**: –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ?
4. **–°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è**: –ù–µ —Å–ª–∏—à–∫–æ–º –ª–∏ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏?

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å HPA
kubectl describe hpa tasks10-ml-service-hpa -n mlops-tasks10

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã —É–∑–ª–æ–≤
kubectl top nodes

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–±—ã—Ç–∏—è HPA
kubectl get events -n mlops-tasks10 --field-selector involvedObject.name=tasks10-ml-service-hpa

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
kubectl patch hpa tasks10-ml-service-hpa -n mlops-tasks10 -p '{"spec":{"behavior":{"scaleUp":{"stabilizationWindowSeconds":60}}}}'
```

### üéØ –°—Ü–µ–Ω–∞—Ä–∏–π 4: "–ê–Ω–æ–º–∞–ª–∏–∏ –≤ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è—Ö –º–æ–¥–µ–ª–∏"
**–°–∏–º–ø—Ç–æ–º—ã –≤ –¥–∞—à–±–æ—Ä–¥–µ:**
- Predictions per Minute: —Å—Ç—Ä–∞–Ω–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ legitimate vs fraud
- HTTP Request Rate –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π
- Average Prediction Time –≤ –Ω–æ—Ä–º–µ

**–ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏:**
1. **–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: –û–±—ã—á–Ω–æ legitimate >> fraud
2. **–¢—Ä–µ–Ω–¥—ã**: –†–µ–∑–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏
3. **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å –Ω–∞–≥—Ä—É–∑–∫–æ–π**: –ú–µ–Ω—è–µ—Ç—Å—è –ª–∏ –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ?
4. **–í–µ—Ä—Å–∏—è –º–æ–¥–µ–ª–∏**: –ù–µ –±—ã–ª–æ –ª–∏ –Ω–µ–¥–∞–≤–Ω–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π?

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é –º–æ–¥–µ–ª–∏ –≤ –º–µ—Ç—Ä–∏–∫–∞—Ö
curl -s http://tasks10-ml-api.darveter.com/metrics | grep ml_model_predictions_total | grep model_version

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –º–æ–¥–µ–ª–∏
kubectl logs -n mlops-tasks10 -l app=tasks10-ml-service-api --tail=200 | grep -i "prediction\|model\|fraud"

# –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å —Å –∏–∑–≤–µ—Å—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
curl -X POST http://tasks10-ml-api.darveter.com/predict \
  -H "Content-Type: application/json" \
  -d '{"transaction_id": "test", "customer_id": 123, "terminal_id": 456, "tx_amount": 100.0, "tx_time_seconds": 1693737600, "tx_time_days": 19723, "tx_fraud_scenario": 0}'
```

### üíæ –°—Ü–µ–Ω–∞—Ä–∏–π 5: "–£—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏"
**–°–∏–º–ø—Ç–æ–º—ã –≤ –¥–∞—à–±–æ—Ä–¥–µ:**
- Memory Usage –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞—Å—Ç–µ—Ç –±–µ–∑ —Å–Ω–∏–∂–µ–Ω–∏—è
- CPU Usage –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º
- Pod Scaling (HPA) —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–µ–ø–ª–∏–∫–∏, –Ω–æ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è
- Average Prediction Time –º–æ–∂–µ—Ç —Ä–∞—Å—Ç–∏

**–ü–æ—à–∞–≥–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑:**
1. **–¢—Ä–µ–Ω–¥ –ø–∞–º—è—Ç–∏**: Memory Usage - –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ä–æ—Å—Ç –∏–ª–∏ –ø–∏–∫–∏?
2. **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å –Ω–∞–≥—Ä—É–∑–∫–æ–π**: –†–∞—Å—Ç–µ—Ç –ª–∏ –ø–∞–º—è—Ç—å –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∑–∞–ø—Ä–æ—Å–∞–º?
3. **–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞**: –ü–æ–º–æ–≥–∞–µ—Ç –ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø–æ–¥–æ–≤?
4. **Garbage Collection**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ GC (–µ—Å–ª–∏ Python/Java)

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø–æ–¥–∞–º–∏
kubectl top pods -n mlops-tasks10 -l app=tasks10-ml-service-api

# –†–µ—Å—Ç–∞—Ä—Ç –ø–æ–¥–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
kubectl rollout restart deployment tasks10-ml-service-api -n mlops-tasks10

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ –ø–∞–º—è—Ç–∏
kubectl logs -n mlops-tasks10 -l app=tasks10-ml-service-api --tail=500 | grep -i "memory\|oom\|killed"

# –£–≤–µ–ª–∏—á–∏—Ç—å memory limits –≤—Ä–µ–º–µ–Ω–Ω–æ
kubectl patch deployment tasks10-ml-service-api -n mlops-tasks10 -p '{"spec":{"template":{"spec":{"containers":[{"name":"ml-api","resources":{"limits":{"memory":"3Gi"}}}]}}}}'

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å memory requests –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
kubectl patch deployment tasks10-ml-service-api -n mlops-tasks10 -p '{"spec":{"template":{"spec":{"containers":[{"name":"ml-api","resources":{"requests":{"memory":"1Gi"}}}]}}}}'
```

## üéì –û–±—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–µ —Å –¥–∞—à–±–æ—Ä–¥–æ–º

### –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (5 –º–∏–Ω—É—Ç)
1. **–û–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –í—Å–µ –ø–∞–Ω–µ–ª–∏ –∑–µ–ª–µ–Ω—ã–µ?
2. **–¢—Ä–µ–Ω–¥—ã**: Predictions per Minute —Å—Ç–∞–±–∏–ª—å–Ω—ã?
3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: Average Prediction Time < 1000ms?
4. **–û—à–∏–±–∫–∏**: HTTP Error Rate < 2%?
5. **CPU**: CPU Usage < 80%?
6. **Memory**: Memory Usage —Å—Ç–∞–±–∏–ª—å–Ω–∞, –Ω–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞?
7. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: HPA —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ?

### –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (15 –º–∏–Ω—É—Ç)
1. **–¢—Ä–µ–Ω–¥—ã –Ω–∞–≥—Ä—É–∑–∫–∏**: –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ HTTP Request Rate –∑–∞ –Ω–µ–¥–µ–ª—é
2. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è**: –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è CPU Usage –∏ Replicas
3. **–ê–Ω–∞–ª–∏–∑ –ø–∞–º—è—Ç–∏**: –¢—Ä–µ–Ω–¥—ã Memory Usage, –Ω–µ—Ç –ª–∏ —É—Ç–µ—á–µ–∫?
4. **–ö–∞—á–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–∏**: –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è legitimate/fraud
5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –¢—Ä–µ–Ω–¥—ã Average Prediction Time
6. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤**: –ù—É–∂–Ω–æ –ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å CPU/Memory –ª–∏–º–∏—Ç—ã?

### –ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á–µ—Ç (30 –º–∏–Ω—É—Ç)
1. **SLA –º–µ—Ç—Ä–∏–∫–∏**: % –≤—Ä–µ–º–µ–Ω–∏ —Å Response Time < 1000ms
2. **Availability**: % –≤—Ä–µ–º–µ–Ω–∏ –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
3. **–†–µ—Å—É—Ä—Å—ã**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ CPU/Memory utilization
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–ø–ª–∏–∫
5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ CPU/Memory –ª–∏–º–∏—Ç–æ–≤
6. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–≥–Ω–æ–∑ —Ä–æ—Å—Ç–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ –∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –≤ —Ä–µ—Å—É—Ä—Å–∞—Ö

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### 1. –¢–µ—Å—Ç –º–µ—Ç—Ä–∏–∫
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–µ—Ç—Ä–∏–∫
for i in {1..10}; do
  curl -X POST http://tasks10-ml-api.darveter.com/predict \
    -H "Content-Type: application/json" \
    -d '{
      "transaction_id": "test-'$i'",
      "customer_id": 123,
      "terminal_id": 456,
      "tx_amount": 100.0,
      "tx_time_seconds": 1693737600,
      "tx_time_days": 19723,
      "tx_fraud_scenario": 0
    }'
  sleep 1
done

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫
curl http://tasks10-ml-api.darveter.com/metrics | grep ml_model_predictions_total
```

### 2. üö® –¢–µ—Å—Ç –∞–ª–µ—Ä—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (MaxScale + HighCPU)
```bash
# –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –¢–ï–°–¢: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–ª–µ—Ä—Ç–∞ –ø—Ä–∏ 6 —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö + CPU > 80%
# ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ—Ç —Ç–µ—Å—Ç —Å–æ–∑–¥–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –Ω–∞–≥—Ä—É–∑–∫—É –∏ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã!

# –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫
kubectl get deployment tasks10-ml-service-api -n mlops-tasks10

# –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ 6 —Ä–µ–ø–ª–∏–∫
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:
while true; do
  curl -X POST http://tasks10-ml-api.darveter.com/predict \
    -H "Content-Type: application/json" \
    -d '{
      "transaction_id": "load-test",
      "customer_id": 123,
      "terminal_id": 456,
      "tx_amount": 100.0,
      "tx_time_seconds": 1693737600,
      "tx_time_days": 19723,
      "tx_fraud_scenario": 0
    }' > /dev/null 2>&1
done

# –®–∞–≥ 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
watch kubectl get deployment tasks10-ml-service-api -n mlops-tasks10

# –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ CPU –Ω–∞–≥—Ä—É–∑–∫–∏ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å > 80%)
kubectl top pods -n mlops-tasks10 | grep tasks10-ml-service-api

# –®–∞–≥ 5: –û–∂–∏–¥–∞–Ω–∏–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –∞–ª–µ—Ä—Ç–∞ (—á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è 6 —Ä–µ–ø–ª–∏–∫ + CPU > 80%)
# –ê–ª–µ—Ä—Ç –¥–æ–ª–∂–µ–Ω —Å—Ä–∞–±–æ—Ç–∞—Ç—å —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞!

# –®–∞–≥ 6: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ (Ctrl+C –≤–æ –≤—Å–µ—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö)
```

### 3. –¢–µ—Å—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ –∏ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è HPA
for i in {1..100}; do
  curl -X POST http://tasks10-ml-api.darveter.com/predict \
    -H "Content-Type: application/json" \
    -d '{
      "transaction_id": "load-test-'$i'",
      "customer_id": 123,
      "terminal_id": 456,
      "tx_amount": 100.0,
      "tx_time_seconds": 1693737600,
      "tx_time_days": 19723,
      "tx_fraud_scenario": 0
    }' &
  if (( i % 10 == 0 )); then wait; fi
done
```

### 3. –¢–µ—Å—Ç –∞–ª–µ—Ä—Ç–æ–≤ –æ—à–∏–±–æ–∫
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ 4xx
for i in {1..20}; do
  curl -X POST http://tasks10-ml-api.darveter.com/predict \
    -H "Content-Type: application/json" \
    -d '{"invalid": "data"}'
done

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫ –æ—à–∏–±–æ–∫
curl http://tasks10-ml-api.darveter.com/metrics | grep http_requests_total
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ HPA
```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
watch kubectl get hpa,pods -n mlops-tasks10
```

